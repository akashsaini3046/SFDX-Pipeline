@isTest
public class CC_FindARouteControllerTest {
  @TestSetup
  static void setup() {
    TestDataUtility.CreateLocation('Test Location', 'BERTH', 1, true);
    TestDataUtility.CreateLocation('Test Loc', 'RAIL', 1, true);
  }

  @isTest
  static void TestgetSoftShipResponse() {
    CC_SoftshipRatingResponse schedulesString = new CC_SoftshipRatingResponse();
    MockResponsesUtility.SoftShipMockResponse mock = new MockResponsesUtility.SoftShipMockResponse(
      false
    );

    Test.startTest();
    CC_BookingWrapper bookingWrap = CC_BookingWrapper.getBookingWrapper();
    bookingWrap.booking.Description__c = 'DD';
    string jsonBookingWrap = JSON.serialize(bookingWrap);
    //string jsonBookingWrap='{"booking":{"Ready_Date__c":"2020-09-10","Pickup_Location__c":"","Customer_Origin_Zip__c":"44669","Customer_Origin_Code__c":"USJAX","Transportation_Management_System_Origin__c":"","Customer_Destination_Code__c":"CUMAR","Customer_Destination_Zip__c":"44862","Delivery_Location__c":"","Transportation_Management_System_Destina__c":"","Description__c":"PP"},"isError":false,"mapParty":{"Customer":[{"Type__c":"CUST"}],"shiper":[{"Type__c":"SHP"}],"consignee":[{"Type__c":"CON"}],"notify":[],"forwarder":[]},"selectedRouteId":1,"shipment":{"listCargo":[{"cargoType":"container","listFreightDetailWrapper":[{"commodityDesc":"","freightDetail":{},"listCommodityWrapper":[],"listRequirementWrapper":[{"commodityCode":"","commodityDesc":"","containerDesc":"","containerType":"","requirement":{}}]}]}],"listVogage":[],"shipment":{}},"shipmentMap":{"RORO":{"cargoType":"roro","isSelected":false,"listCargo":[{"cargoType":"","listFreightDetailWrapper":[{"commodityDesc":"","freightDetail":{},"listCommodityWrapper":[],"listRequirementWrapper":[{"commodityCode":"","commodityDesc":"","containerDesc":"","containerType":"","requirement":{}}]}]}],"listVogage":[],"shipment":{}},"BREAKBULK":{"cargoType":"breakbulk","isSelected":false,"listCargo":[{"cargoType":"","listFreightDetailWrapper":[{"commodityDesc":"","freightDetail":{},"listCommodityWrapper":[],"listRequirementWrapper":[{"commodityCode":"","commodityDesc":"","containerDesc":"","containerType":"","requirement":{}}]}]}],"listVogage":[],"shipment":{}},"CONTAINER":{"cargoType":"container","isSelected":true,"listCargo":[{"cargoType":"","listFreightDetailWrapper":[{"commodityDesc":"","freightDetail":{},"listCommodityWrapper":[],"listRequirementWrapper":[{"commodityCode":"","commodityDesc":"","containerDesc":"","containerType":"","requirement":{}}]}]}],"listVogage":[],"shipment":{}}},"transportDestination":{"listStop":[{}],"transport":{}},"transportOrigin":{"listStop":[{}],"transport":{}}}';

    APICalloutUtility.integrationServiceMdtMap = TestDataUtility.getIntegrationServiceMapForTest();
    APICalloutUtility.serviceEnvironCSMap = TestDataUtility.getServiceEnvironmentTestMap();
    APICalloutUtility.serviceParamsMdtMap = TestDataUtility.getServiceParamsTestMap();

    Test.setMock(HttpCalloutMock.class, mock);
    schedulesString = CC_FindARouteController.getSoftShipResponse(
      jsonBookingWrap
    );

    test.stopTest();
  }

  @isTest
  static void TestgetSchedules() {
    String jsonResponseString = '{"success":true,"result":[{"Success":false,"Schedules":[{"TotalDuration":"2.16:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"startPoint":null,"startMode":null,"startLocationCode":null,"startLocation":null,"startLoc":null,"startDateNumber":null,"StartDate":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"SAL0095"},"VesselName":"El Coqui","VesselCode":{"Code":"ECO"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Isla Grande Term, San Juan, PR","ToLocation":{"Code":"PRSJU"},"To":{"Berths":[{"Departure":{"Utc":"2020-12-01T09:00:00","LocalPortTime":"2020-12-01T05:00:00"},"Arrival":{"Utc":"2020-11-30T09:00:00","LocalPortTime":"2020-11-30T05:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":1067,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"JPA Term, Jacksonville, FL","SubLocationCode":{"Code":"JAXT000"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"Arrival":{"Utc":"2020-11-26T19:00:00","LocalPortTime":"2020-11-26T14:00:00"}}]},"FromSubDisplayName":"JPA Term, Jacksonville, FL","FromLocation":{"Code":"USJAX"},"departureToDisplay":null,"DepartureTime":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-11-30T14:00:00","LocalPortTime":"2020-11-30T10:00:00"}}],"POL":null,"POD":null,"originMove":null,"numberOfStops":null,"numberOfSegments":null,"EndSailingDate":{"Utc":"2020-11-30T14:00:00","LocalPortTime":"2020-11-30T10:00:00"},"endPoint":null,"endMode":null,"endLocationCode":null,"endLocation":null,"endLoc":null,"EndDate":{"Utc":"2020-11-30T14:00:00","LocalPortTime":"2020-11-30T10:00:00"},"destMove":null,"betweenPortsOnly":null,"betweenLocations":null,"addedHours":null},{"TotalDuration":"2.16:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"startPoint":null,"startMode":null,"startLocationCode":null,"startLocation":null,"startLoc":null,"startDateNumber":null,"StartDate":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"SAL0096"},"VesselName":"Taino","VesselCode":{"Code":"TAO"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Isla Grande Term, San Juan, PR","ToLocation":{"Code":"PRSJU"},"To":{"Berths":[{"Departure":{"Utc":"2020-12-05T09:00:00","LocalPortTime":"2020-12-05T05:00:00"},"Arrival":{"Utc":"2020-12-04T09:00:00","LocalPortTime":"2020-12-04T05:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":1067,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"JPA Term, Jacksonville, FL","SubLocationCode":{"Code":"JAXT000"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"Arrival":{"Utc":"2020-11-30T19:00:00","LocalPortTime":"2020-11-30T14:00:00"}}]},"FromSubDisplayName":"JPA Term, Jacksonville, FL","FromLocation":{"Code":"USJAX"},"departureToDisplay":null,"DepartureTime":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-12-04T14:00:00","LocalPortTime":"2020-12-04T10:00:00"}}],"POL":null,"POD":null,"originMove":null,"numberOfStops":null,"numberOfSegments":null,"EndSailingDate":{"Utc":"2020-12-04T14:00:00","LocalPortTime":"2020-12-04T10:00:00"},"endPoint":null,"endMode":null,"endLocationCode":null,"endLocation":null,"endLoc":null,"EndDate":{"Utc":"2020-12-04T14:00:00","LocalPortTime":"2020-12-04T10:00:00"},"destMove":null,"betweenPortsOnly":null,"betweenLocations":null,"addedHours":null}],"RouteId":1,"Legs":[{"TransshipmentMatrixDetailId":1067,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"JPA Term, Jacksonville, FL","SubLocationCode":{"Code":"JAXT000"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":2.5,"Amount":2.5}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-11-27T00:00:00Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":3840.0,"AmountinHours":64.0,"AmountInDays":2.6666666666666666666666666667,"Amount":3840.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":2770.0,"SumOfVat":0.0,"SumOfValues":2770.0,"DocValuesData":[{"Unit":"","TariffManr":10940.0,"TargetCurCode":"USD","Rate":2290.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":2290.0},{"Unit":"","TariffManr":15141.0,"TargetCurCode":"USD","Rate":260.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":260.0},{"Unit":"","TariffManr":4882.0,"TargetCurCode":"USD","Rate":26.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Charge - Destination","CurrencyCode":"USD","ChargeCode":"PTCD","Basis":1.0,"AmountTarget":26.0},{"Unit":"","TariffManr":8121.0,"TargetCurCode":"USD","Rate":120.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Security - Destination","CurrencyCode":"USD","ChargeCode":"SECD","Basis":1.0,"AmountTarget":120.0},{"Unit":"","TariffManr":4931.0,"TargetCurCode":"USD","Rate":74.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Scanning Fee - Destination","CurrencyCode":"USD","ChargeCode":"PSFD","Basis":1.0,"AmountTarget":74.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[{"ValuesGroup":[{"TotalSum":1096.64,"SumOfVat":0.0,"SumOfValues":1096.64,"DocValuesData":[{"Unit":"","TariffManr":7746.0,"TargetCurCode":"USD","Rate":124.93,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Admin","CurrencyCode":"USD","ChargeCode":"SCAD","Basis":1.0,"AmountTarget":124.93},{"Unit":"","TariffManr":7755.0,"TargetCurCode":"USD","Rate":257.68,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Purchase Services","CurrencyCode":"USD","ChargeCode":"SCPC","Basis":1.0,"AmountTarget":257.68},{"Unit":"","TariffManr":7737.0,"TargetCurCode":"USD","Rate":20.6,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Discharge","CurrencyCode":"USD","ChargeCode":"SCPD","Basis":1.0,"AmountTarget":20.6},{"Unit":"","TariffManr":7728.0,"TargetCurCode":"USD","Rate":21.54,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Load","CurrencyCode":"USD","ChargeCode":"SCPL","Basis":1.0,"AmountTarget":21.54},{"Unit":"","TariffManr":7710.0,"TargetCurCode":"USD","Rate":436.12,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Charter","CurrencyCode":"USD","ChargeCode":"SCVC","Basis":1.0,"AmountTarget":436.12},{"Unit":"","TariffManr":7719.0,"TargetCurCode":"USD","Rate":235.77,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Fuel","CurrencyCode":"USD","ChargeCode":"SCVF","Basis":1.0,"AmountTarget":235.77}]}],"TargetCurrency":"USD"}],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":2770.0,"SumCost":1096.64,"ContributionAmount":1673.36}]}],"Errors":[]},"BookingRouteResult":{"RouteId":null,"AllSalesTariffIds":[],"AllPurchaseTariffIds":[]}},{"Success":false,"Schedules":[{"TotalDuration":"4.15:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"startPoint":null,"startMode":null,"startLocationCode":null,"startLocation":null,"startLoc":null,"startDateNumber":null,"StartDate":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"SAL0946"},"VesselName":"El Conquistador","VesselCode":{"Code":"EC"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Isla Grande Term, San Juan, PR","ToLocation":{"Code":"PRSJU"},"To":{"Berths":[{"Departure":{"Utc":"2020-12-11T02:00:00","LocalPortTime":"2020-12-10T22:00:00"},"Arrival":{"Utc":"2020-12-10T12:00:00","LocalPortTime":"2020-12-10T08:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":1065,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"Talleyrand Term, Jacksonville","SubLocationCode":{"Code":"JAXT001"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":6480.00,"AmountinHours":108.00,"AmountInDays":4.5,"Amount":4.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"Arrival":{"Utc":"2020-12-05T14:00:00","LocalPortTime":"2020-12-05T09:00:00"}}]},"FromSubDisplayName":"Talleyrand Term, Jacksonville","FromLocation":{"Code":"USJAX"},"departureToDisplay":null,"DepartureTime":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-12-10T17:00:00","LocalPortTime":"2020-12-10T13:00:00"}}],"POL":null,"POD":null,"originMove":null,"numberOfStops":null,"numberOfSegments":null,"EndSailingDate":{"Utc":"2020-12-10T17:00:00","LocalPortTime":"2020-12-10T13:00:00"},"endPoint":null,"endMode":null,"endLocationCode":null,"endLocation":null,"endLoc":null,"EndDate":{"Utc":"2020-12-10T17:00:00","LocalPortTime":"2020-12-10T13:00:00"},"destMove":null,"betweenPortsOnly":null,"betweenLocations":null,"addedHours":null}],"RouteId":2,"Legs":[{"TransshipmentMatrixDetailId":1065,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"Talleyrand Term, Jacksonville","SubLocationCode":{"Code":"JAXT001"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":4.5,"Amount":4.5}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-11-27T00:00:00Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":6660.0,"AmountinHours":111.0,"AmountInDays":4.625,"Amount":6660.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":2770.0,"SumOfVat":0.0,"SumOfValues":2770.0,"DocValuesData":[{"Unit":"","TariffManr":10940.0,"TargetCurCode":"USD","Rate":2290.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":2290.0},{"Unit":"","TariffManr":15141.0,"TargetCurCode":"USD","Rate":260.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":260.0},{"Unit":"","TariffManr":4882.0,"TargetCurCode":"USD","Rate":26.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Charge - Destination","CurrencyCode":"USD","ChargeCode":"PTCD","Basis":1.0,"AmountTarget":26.0},{"Unit":"","TariffManr":8121.0,"TargetCurCode":"USD","Rate":120.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Security - Destination","CurrencyCode":"USD","ChargeCode":"SECD","Basis":1.0,"AmountTarget":120.0},{"Unit":"","TariffManr":4931.0,"TargetCurCode":"USD","Rate":74.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Scanning Fee - Destination","CurrencyCode":"USD","ChargeCode":"PSFD","Basis":1.0,"AmountTarget":74.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[{"ValuesGroup":[{"TotalSum":1096.64,"SumOfVat":0.0,"SumOfValues":1096.64,"DocValuesData":[{"Unit":"","TariffManr":7746.0,"TargetCurCode":"USD","Rate":124.93,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Admin","CurrencyCode":"USD","ChargeCode":"SCAD","Basis":1.0,"AmountTarget":124.93},{"Unit":"","TariffManr":7755.0,"TargetCurCode":"USD","Rate":257.68,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Purchase Services","CurrencyCode":"USD","ChargeCode":"SCPC","Basis":1.0,"AmountTarget":257.68},{"Unit":"","TariffManr":7737.0,"TargetCurCode":"USD","Rate":20.6,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Discharge","CurrencyCode":"USD","ChargeCode":"SCPD","Basis":1.0,"AmountTarget":20.6},{"Unit":"","TariffManr":7728.0,"TargetCurCode":"USD","Rate":21.54,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Load","CurrencyCode":"USD","ChargeCode":"SCPL","Basis":1.0,"AmountTarget":21.54},{"Unit":"","TariffManr":7710.0,"TargetCurCode":"USD","Rate":436.12,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Charter","CurrencyCode":"USD","ChargeCode":"SCVC","Basis":1.0,"AmountTarget":436.12},{"Unit":"","TariffManr":7719.0,"TargetCurCode":"USD","Rate":235.77,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Fuel","CurrencyCode":"USD","ChargeCode":"SCVF","Basis":1.0,"AmountTarget":235.77}]}],"TargetCurrency":"USD"}],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":2770.0,"SumCost":1096.64,"ContributionAmount":1673.36}]}],"Errors":[]},"BookingRouteResult":{"RouteId":null,"AllSalesTariffIds":[],"AllPurchaseTariffIds":[]}}]}';

    test.startTest();
    List<CC_SoftshipRatingResponse.Schedules> schedules = CC_FindARouteController.getSchedules(
      jsonResponseString
    );
    test.stopTest();
    System.assertNotEquals(null, schedules, 'Should not be null');
  }

  @isTest
  static void TestgetBookingWrapper() {
    CC_BookingWrapper bookingWrapper;
    Test.startTest();
    bookingWrapper = CC_FindARouteController.getBookingWrapper();
    Test.stopTest();
  }

  @isTest
  static void TestfetchLocation() {
    Location__c location = [SELECT Id FROM Location__c LIMIT 1];
    List<Location__c> listLocations;
    Test.startTest();
    listLocations = CC_FindARouteController.fetchLocation(location.Id);
    Test.stopTest();
    System.assertEquals(listLocations.size(), 1);
  }

  @isTest
  static void TestfetchSubLocation1() {
    Location__c location = [
      SELECT Id, UN_Location_Code__c
      FROM Location__c
      WHERE Sub_Location_Type__c = 'BERTH'
    ];
    List<Location__c> listLocations;
    Test.startTest();
    listLocations = CC_FindARouteController.fetchSubLocation(
      location.UN_Location_Code__c,
      'PORT'
    );
    Test.stopTest();
    System.assertEquals(
      1,
      listLocations.size(),
      'This Location list contains one record'
    );
  }

  @isTest
  static void TestfetchSubLocation2() {
    Location__c location = [
      SELECT Id, UN_Location_Code__c
      FROM Location__c
      WHERE Sub_Location_Type__c = 'RAIL'
    ];
    System.debug('TestfetchSubLocation2 ' + location);
    List<Location__c> listLocations;
    Test.startTest();
    listLocations = CC_FindARouteController.fetchSubLocation(
      location.UN_Location_Code__c,
      'RAIL RAMP'
    );
    Test.stopTest();
    System.assertEquals(
      1,
      listLocations.size(),
      'This list contains one record'
    );
  }

  @isTest
  static void CatchTestsendEmail() {
    //String jsonResponseString= '{"success":true,"result":[{"Success":false,"Schedules":[{"TotalDuration":"3.11:30:00","totalDays":null,"StartSailingDate":{"Utc":"2020-09-08T03:00:00"},"startLocationCode":null,"startLocation":null,"StartDate":{"Utc":"2020-09-08T03:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"NZV0108"},"VesselName":"Paradero","VesselCode":{"Code":"PAR"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Puerto Cortes Term, Honduras","ToLocation":{"Code":"HNPCR"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-12T00:00:00"},"Arrival":{"Utc":"2020-09-11T11:30:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":922,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":false,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-08T03:00:00"},"Arrival":{"Utc":"2020-09-07T11:00:00"}}]},"FromSubDisplayName":"Port Everglades Term, FL","FromLocation":{"Code":"USPEF"},"DepartureTime":{"Utc":"2020-09-08T03:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-11T16:30:00"}}],"numberOfStops":null,"EndSailingDate":{"Utc":"2020-09-11T16:30:00"},"endLocationCode":null,"endLocation":null,"EndDate":{"Utc":"2020-09-11T16:30:00"},"addedHours":null},{"TotalDuration":"3.11:30:00","totalDays":null,"StartSailingDate":{"Utc":"2020-09-15T03:00:00"},"startLocationCode":null,"startLocation":null,"StartDate":{"Utc":"2020-09-15T03:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"NZV0111"},"VesselName":"Paradero","VesselCode":{"Code":"PAR"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Puerto Cortes Term, Honduras","ToLocation":{"Code":"HNPCR"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-19T00:00:00"},"Arrival":{"Utc":"2020-09-18T11:30:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":922,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-15T03:00:00"},"Arrival":{"Utc":"2020-09-14T11:00:00"}}]},"FromSubDisplayName":"Port Everglades Term, FL","FromLocation":{"Code":"USPEF"},"DepartureTime":{"Utc":"2020-09-15T03:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-18T16:30:00"}}],"numberOfStops":null,"EndSailingDate":{"Utc":"2020-09-18T16:30:00"},"endLocationCode":null,"endLocation":null,"EndDate":{"Utc":"2020-09-18T16:30:00"},"addedHours":null},{"TotalDuration":"3.12:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-09-11T03:00:00"},"startLocationCode":null,"startLocation":null,"StartDate":{"Utc":"2020-09-11T03:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"NZV0109"},"VesselName":"Pegasus J","VesselCode":{"Code":"PEJ"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Puerto Cortes Term, Honduras","ToLocation":{"Code":"HNPCR"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-14T23:00:00"},"Arrival":{"Utc":"2020-09-14T12:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":922,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-11T03:00:00"},"Arrival":{"Utc":"2020-09-10T07:00:00"}}]},"FromSubDisplayName":"Port Everglades Term, FL","FromLocation":{"Code":"USPEF"},"DepartureTime":{"Utc":"2020-09-11T03:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-14T17:00:00"}}],"numberOfStops":null,"EndSailingDate":{"Utc":"2020-09-14T17:00:00"},"endLocationCode":null,"endLocation":null,"EndDate":{"Utc":"2020-09-14T17:00:00"},"addedHours":null},{"TotalDuration":"3.12:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-09-18T03:00:00"},"startLocationCode":null,"startLocation":null,"StartDate":{"Utc":"2020-09-18T03:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"NZV0112"},"VesselName":"Pegasus J","VesselCode":{"Code":"PEJ"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Puerto Cortes Term, Honduras","ToLocation":{"Code":"HNPCR"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-21T23:00:00"},"Arrival":{"Utc":"2020-09-21T12:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":922,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-18T03:00:00"},"Arrival":{"Utc":"2020-09-17T07:00:00"}}]},"FromSubDisplayName":"Port Everglades Term, FL","FromLocation":{"Code":"USPEF"},"DepartureTime":{"Utc":"2020-09-18T03:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-21T17:00:00"}}],"numberOfStops":null,"EndSailingDate":{"Utc":"2020-09-21T17:00:00"},"endLocationCode":null,"endLocation":null,"EndDate":{"Utc":"2020-09-21T17:00:00"},"addedHours":null}],"RouteId":1,"Legs":[{"TransshipmentMatrixDetailId":922,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":2.5,"Amount":2.5}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-09-05T11:57:37.4077396Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":5010.0,"AmountinHours":83.5,"AmountInDays":3.4791666666666666666666666667,"Amount":5010.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":4186.0,"SumOfVat":0.0,"SumOfValues":4186.0,"DocValuesData":[{"Unit":"","TariffManr":24217.0,"TargetCurCode":"USD","Rate":3982.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":3982.0},{"Unit":"","TariffManr":15638.0,"TargetCurCode":"USD","Rate":100.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":100.0},{"Unit":"","TariffManr":7835.0,"TargetCurCode":"USD","Rate":104.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Terminal Handling Charge - Destination","CurrencyCode":"USD","ChargeCode":"THCD","Basis":1.0,"AmountTarget":104.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[{"ValuesGroup":[{"TotalSum":777.91,"SumOfVat":0.0,"SumOfValues":777.91,"DocValuesData":[{"Unit":"","TariffManr":8659.0,"TargetCurCode":"USD","Rate":124.93,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Admin","CurrencyCode":"USD","ChargeCode":"SCAD","Basis":1.0,"AmountTarget":124.93},{"Unit":"","TariffManr":8668.0,"TargetCurCode":"USD","Rate":257.68,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Purchase Services","CurrencyCode":"USD","ChargeCode":"SCPC","Basis":1.0,"AmountTarget":257.68},{"Unit":"","TariffManr":8650.0,"TargetCurCode":"USD","Rate":53.92,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Port of Discharge","CurrencyCode":"USD","ChargeCode":"SCPD","Basis":1.0,"AmountTarget":53.92},{"Unit":"","TariffManr":8641.0,"TargetCurCode":"USD","Rate":42.8,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Port of Load","CurrencyCode":"USD","ChargeCode":"SCPL","Basis":1.0,"AmountTarget":42.8},{"Unit":"","TariffManr":8623.0,"TargetCurCode":"USD","Rate":137.24,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Vessel Charter","CurrencyCode":"USD","ChargeCode":"SCVC","Basis":1.0,"AmountTarget":137.24},{"Unit":"","TariffManr":8632.0,"TargetCurCode":"USD","Rate":161.34,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Vessel Fuel","CurrencyCode":"USD","ChargeCode":"SCVF","Basis":1.0,"AmountTarget":161.34}]}],"TargetCurrency":"USD"}],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":4186.0,"SumCost":777.91,"ContributionAmount":3408.09}]}],"Errors":[]},"BookingRouteResult":{"RouteId":1,"AllSalesTariffIds":[24217,15638,7835],"AllPurchaseTariffIds":[8659,8668,8650,8641,8623,8632]}},{"Success":false,"Schedules":[{"TotalDuration":"8.05:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-09-07T11:00:00Z"},"startLocationCode":null,"startLocation":null,"StartDate":{"Utc":"2020-09-07T11:00:00Z"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"TBN"},"VesselName":"TBN","VesselCode":{"Code":"TBN"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Manzanillo Term, Panama","ToLocation":{"Code":"PAMIT"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-10T23:00:00Z"},"Arrival":{"Utc":"2020-09-10T23:00:00Z"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":969,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"MITT007"},"LocationCode":{"Code":"PAMIT"},"DisplayName":"Manzanillo, Panama"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":5040.00,"AmountinHours":84.00,"AmountInDays":3.5,"Amount":3.5}},"IsTBN":true,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-07T11:00:00Z"},"Arrival":{"Utc":"2020-09-07T11:00:00Z"}}]},"FromSubDisplayName":"Port Everglades Term, FL","FromLocation":{"Code":"USPEF"},"DepartureTime":{"Utc":"2020-09-07T11:00:00Z"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-11T23:00:00Z"}},{"VoyageNumber":{"NumberX":"TBN"},"VesselName":"TBN","VesselCode":{"Code":"TBN"},"TransportModeCode":{"Type":"F","Code":"FEED"},"ToSubDisplayName":"Kingston Term, Jamaica","ToLocation":{"Code":"JMKIN"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-13T11:00:00Z"},"Arrival":{"Utc":"2020-09-13T11:00:00Z"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":857,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"MITT007"},"LocationCode":{"Code":"PAMIT"},"DisplayName":"Manzanillo, Panama"},"LegSeqNumber":2,"EndPosition":{"SubLocationCode":{"Code":"KINT001"},"LocationCode":{"Code":"JMKIN"},"DisplayName":"Kingston, Jamaica"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":2160.00,"AmountinHours":36.00,"AmountInDays":1.5,"Amount":1.5}},"IsTBN":true,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-11T23:00:00Z"},"Arrival":{"Utc":"2020-09-11T23:00:00Z"}}]},"FromSubDisplayName":"Manzanillo Term, Panama","FromLocation":{"Code":"PAMIT"},"DepartureTime":{"Utc":"2020-09-11T23:00:00Z"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-13T11:00:00Z"}},{"VoyageNumber":{"NumberX":"TBN"},"VesselName":"TBN","VesselCode":{"Code":"TBN"},"TransportModeCode":{"Type":"F","Code":"FEED"},"ToSubDisplayName":"Puerto Cortes Term, Honduras","ToLocation":{"Code":"HNPCR"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-15T11:00:00Z"},"Arrival":{"Utc":"2020-09-15T11:00:00Z"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":945,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"KINT001"},"LocationCode":{"Code":"JMKIN"},"DisplayName":"Kingston, Jamaica"},"LegSeqNumber":3,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":2880.0,"AmountinHours":48.0,"AmountInDays":2.0,"Amount":2.0}},"IsTBN":true,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-13T11:00:00Z"},"Arrival":{"Utc":"2020-09-13T11:00:00Z"}}]},"FromSubDisplayName":"Kingston Term, Jamaica","FromLocation":{"Code":"JMKIN"},"DepartureTime":{"Utc":"2020-09-13T11:00:00Z"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-15T16:00:00Z"}}],"numberOfStops":null,"EndSailingDate":{"Utc":"2020-09-15T16:00:00Z"},"endLocationCode":null,"endLocation":null,"EndDate":{"Utc":"2020-09-15T16:00:00Z"},"addedHours":null}],"RouteId":2,"Legs":[{"TransshipmentMatrixDetailId":969,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"MITT007"},"LocationCode":{"Code":"PAMIT"},"DisplayName":"Manzanillo, Panama"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":3.5,"Amount":3.5}},{"TransshipmentMatrixDetailId":857,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"MITT007"},"LocationCode":{"Code":"PAMIT"},"DisplayName":"Manzanillo, Panama"},"LegSeqNumber":2,"EndPosition":{"SubLocationCode":{"Code":"KINT001"},"LocationCode":{"Code":"JMKIN"},"DisplayName":"Kingston, Jamaica"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":1.5,"Amount":1.5}},{"TransshipmentMatrixDetailId":945,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"KINT001"},"LocationCode":{"Code":"JMKIN"},"DisplayName":"Kingston, Jamaica"},"LegSeqNumber":3,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":2.0,"Amount":2.0}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-09-05T11:57:37.4077396Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":11820.0,"AmountinHours":197.0,"AmountInDays":8.208333333333333333333333333,"Amount":11820.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":4186.0,"SumOfVat":0.0,"SumOfValues":4186.0,"DocValuesData":[{"Unit":"","TariffManr":24217.0,"TargetCurCode":"USD","Rate":3982.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":3982.0},{"Unit":"","TariffManr":15638.0,"TargetCurCode":"USD","Rate":100.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":100.0},{"Unit":"","TariffManr":7835.0,"TargetCurCode":"USD","Rate":104.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Terminal Handling Charge - Destination","CurrencyCode":"USD","ChargeCode":"THCD","Basis":1.0,"AmountTarget":104.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[{"ValuesGroup":[{"TotalSum":1122.73,"SumOfVat":0.0,"SumOfValues":1122.73,"DocValuesData":[{"Unit":"","TariffManr":8988.0,"TargetCurCode":"USD","Rate":124.93,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Admin","CurrencyCode":"USD","ChargeCode":"SCAD","Basis":1.0,"AmountTarget":124.93},{"Unit":"","TariffManr":8997.0,"TargetCurCode":"USD","Rate":257.68,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Purchase Services","CurrencyCode":"USD","ChargeCode":"SCPC","Basis":1.0,"AmountTarget":257.68},{"Unit":"","TariffManr":8979.0,"TargetCurCode":"USD","Rate":42.58,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Port of Discharge","CurrencyCode":"USD","ChargeCode":"SCPD","Basis":1.0,"AmountTarget":42.58},{"Unit":"","TariffManr":8970.0,"TargetCurCode":"USD","Rate":87.11,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Port of Load","CurrencyCode":"USD","ChargeCode":"SCPL","Basis":1.0,"AmountTarget":87.11},{"Unit":"","TariffManr":8952.0,"TargetCurCode":"USD","Rate":244.16,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Vessel Charter","CurrencyCode":"USD","ChargeCode":"SCVC","Basis":1.0,"AmountTarget":244.16},{"Unit":"","TariffManr":8961.0,"TargetCurCode":"USD","Rate":366.27,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Vessel Fuel","CurrencyCode":"USD","ChargeCode":"SCVF","Basis":1.0,"AmountTarget":366.27}]}],"TargetCurrency":"USD"}],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":4186.0,"SumCost":1122.73,"ContributionAmount":3063.27}]}],"Errors":[]},"BookingRouteResult":{"RouteId":2,"AllSalesTariffIds":[24217,15638,7835],"AllPurchaseTariffIds":[8988,8997,8979,8970,8952,8961]}},{"Success":false,"Schedules":[{"TotalDuration":"10.15:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-09-13T20:00:00"},"startLocationCode":null,"startLocation":null,"StartDate":{"Utc":"2020-09-13T20:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"DOM0037"},"VesselName":"K Storm","VesselCode":{"Code":"KSM"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Rio Haina Term, Dom Rep","ToLocation":{"Code":"DOHAI"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-17T01:00:00"},"Arrival":{"Utc":"2020-09-16T12:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":829,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-13T20:00:00"},"Arrival":{"Utc":"2020-09-13T11:00:00"}}]},"FromSubDisplayName":"Port Everglades Term, FL","FromLocation":{"Code":"USPEF"},"DepartureTime":{"Utc":"2020-09-13T20:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-17T12:00:00"}},{"VoyageNumber":{"NumberX":"TBN"},"VesselName":"TBN","VesselCode":{"Code":"TBN"},"TransportModeCode":{"Type":"F","Code":"FEED"},"ToSubDisplayName":"Puerto Cortes Term, Honduras","ToLocation":{"Code":"HNPCR"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-24T00:00:00"},"Arrival":{"Utc":"2020-09-24T00:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":956,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"LegSeqNumber":2,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":9360.00,"AmountinHours":156.00,"AmountInDays":6.5,"Amount":6.5}},"IsTBN":true,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-17T12:00:00"},"Arrival":{"Utc":"2020-09-17T12:00:00"}}]},"FromSubDisplayName":"Rio Haina Term, Dom Rep","FromLocation":{"Code":"DOHAI"},"DepartureTime":{"Utc":"2020-09-17T12:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-24T11:00:00"}}],"numberOfStops":null,"EndSailingDate":{"Utc":"2020-09-24T11:00:00"},"endLocationCode":null,"endLocation":null,"EndDate":{"Utc":"2020-09-24T11:00:00"},"addedHours":null}],"RouteId":3,"Legs":[{"TransshipmentMatrixDetailId":829,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT001"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":2.5,"Amount":2.5}},{"TransshipmentMatrixDetailId":956,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"LegSeqNumber":2,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":6.5,"Amount":6.5}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-09-05T11:57:37.4077396Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":15300.0,"AmountinHours":255.0,"AmountInDays":10.625,"Amount":15300.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":4186.0,"SumOfVat":0.0,"SumOfValues":4186.0,"DocValuesData":[{"Unit":"","TariffManr":24217.0,"TargetCurCode":"USD","Rate":3982.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":3982.0},{"Unit":"","TariffManr":15638.0,"TargetCurCode":"USD","Rate":100.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":100.0},{"Unit":"","TariffManr":7835.0,"TargetCurCode":"USD","Rate":104.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Terminal Handling Charge - Destination","CurrencyCode":"USD","ChargeCode":"THCD","Basis":1.0,"AmountTarget":104.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[{"ValuesGroup":[{"TotalSum":1864.69,"SumOfVat":0.0,"SumOfValues":1864.69,"DocValuesData":[{"Unit":"","TariffManr":8328.0,"TargetCurCode":"USD","Rate":124.93,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Admin","CurrencyCode":"USD","ChargeCode":"SCAD","Basis":1.0,"AmountTarget":124.93},{"Unit":"","TariffManr":8337.0,"TargetCurCode":"USD","Rate":257.68,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Purchase Services","CurrencyCode":"USD","ChargeCode":"SCPC","Basis":1.0,"AmountTarget":257.68},{"Unit":"","TariffManr":8319.0,"TargetCurCode":"USD","Rate":50.31,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Port of Discharge","CurrencyCode":"USD","ChargeCode":"SCPD","Basis":1.0,"AmountTarget":50.31},{"Unit":"","TariffManr":8310.0,"TargetCurCode":"USD","Rate":38.29,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Port of Load","CurrencyCode":"USD","ChargeCode":"SCPL","Basis":1.0,"AmountTarget":38.29},{"Unit":"","TariffManr":8292.0,"TargetCurCode":"USD","Rate":174.67,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Vessel Charter","CurrencyCode":"USD","ChargeCode":"SCVC","Basis":1.0,"AmountTarget":174.67},{"Unit":"","TariffManr":8301.0,"TargetCurCode":"USD","Rate":253.81,"Per":"P","MinMaxFlag":"N","GroupName":"OCEANADD","Description":"Standard Cost - Vessel Fuel","CurrencyCode":"USD","ChargeCode":"SCVF","Basis":1.0,"AmountTarget":253.81},{"Unit":"","TariffManr":2898.0,"TargetCurCode":"USD","Rate":965.0,"Per":"P","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Contract Carrier Slot Charges","CurrencyCode":"USD","ChargeCode":"SLOT","Basis":1.0,"AmountTarget":965.0}]}],"TargetCurrency":"USD"}],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":4186.0,"SumCost":1864.69,"ContributionAmount":2321.31}]}],"Errors":[]},"BookingRouteResult":{"RouteId":3,"AllSalesTariffIds":[24217,15638,7835],"AllPurchaseTariffIds":[8328,8337,8319,8310,8292,8301,2898]}},{"Success":false,"Schedules":[{"TotalDuration":"14.00:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-09-07T11:00:00Z"},"startLocationCode":null,"startLocation":null,"StartDate":{"Utc":"2020-09-07T11:00:00Z"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"TBN"},"VesselName":"TBN","VesselCode":{"Code":"TBN"},"TransportModeCode":{"Type":"F","Code":"FEED"},"ToSubDisplayName":"Campden Park Term, St Vincent","ToLocation":{"Code":"VCCRP"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-11T05:00:00Z"},"Arrival":{"Utc":"2020-09-11T05:00:00Z"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":1263,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT006"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"CRPT001"},"LocationCode":{"Code":"VCCRP"},"DisplayName":"Campden Park, Saint Vincent"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":5400.00,"AmountinHours":90.000,"AmountInDays":3.75,"Amount":3.75}},"IsTBN":true,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-07T11:00:00Z"},"Arrival":{"Utc":"2020-09-07T11:00:00Z"}}]},"FromSubDisplayName":"KOS Term, Port Everglades, FL","FromLocation":{"Code":"USPEF"},"DepartureTime":{"Utc":"2020-09-07T11:00:00Z"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-11T05:00:00Z"}},{"VoyageNumber":{"NumberX":"TBN"},"VesselName":"TBN","VesselCode":{"Code":"TBN"},"TransportModeCode":{"Type":"F","Code":"FEED"},"ToSubDisplayName":"Rio Haina Term, Dom Rep","ToLocation":{"Code":"DOHAI"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-12T18:00:00Z"},"Arrival":{"Utc":"2020-09-12T18:00:00Z"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":896,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"CRPT001"},"LocationCode":{"Code":"VCCRP"},"DisplayName":"Campden Park, Saint Vincent"},"LegSeqNumber":2,"EndPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":2220.00,"AmountinHours":37.000000000000080,"AmountInDays":1.54166666666667,"Amount":1.54166666666667}},"IsTBN":true,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-11T05:00:00Z"},"Arrival":{"Utc":"2020-09-11T05:00:00Z"}}]},"FromSubDisplayName":"Campden Park Term, St Vincent","FromLocation":{"Code":"VCCRP"},"DepartureTime":{"Utc":"2020-09-11T05:00:00Z"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-12T18:00:00Z"}},{"VoyageNumber":{"NumberX":"TBN"},"VesselName":"TBN","VesselCode":{"Code":"TBN"},"TransportModeCode":{"Type":"F","Code":"FEED"},"ToSubDisplayName":"Puerto Cortes Term, Honduras","ToLocation":{"Code":"HNPCR"},"To":{"Berths":[{"Departure":{"Utc":"2020-09-19T06:00:00Z"},"Arrival":{"Utc":"2020-09-19T06:00:00Z"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":956,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"LegSeqNumber":3,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":9360.00,"AmountinHours":156.00,"AmountInDays":6.5,"Amount":6.5}},"IsTBN":true,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-09-12T18:00:00Z"},"Arrival":{"Utc":"2020-09-12T18:00:00Z"}}]},"FromSubDisplayName":"Rio Haina Term, Dom Rep","FromLocation":{"Code":"DOHAI"},"DepartureTime":{"Utc":"2020-09-12T18:00:00Z"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-09-21T11:00:00Z"}}],"numberOfStops":null,"EndSailingDate":{"Utc":"2020-09-21T11:00:00Z"},"endLocationCode":null,"endLocation":null,"EndDate":{"Utc":"2020-09-21T11:00:00Z"},"addedHours":null}],"RouteId":4,"Legs":[{"TransshipmentMatrixDetailId":1263,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"PEFT006"},"LocationCode":{"Code":"USPEF"},"DisplayName":"Port Everglades, FL"},"LegSeqNumber":1,"EndPosition":{"SubLocationCode":{"Code":"CRPT001"},"LocationCode":{"Code":"VCCRP"},"DisplayName":"Campden Park, Saint Vincent"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":3.75,"Amount":3.75}},{"TransshipmentMatrixDetailId":896,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"CRPT001"},"LocationCode":{"Code":"VCCRP"},"DisplayName":"Campden Park, Saint Vincent"},"LegSeqNumber":2,"EndPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":1.54166666666667,"Amount":1.54166666666667}},{"TransshipmentMatrixDetailId":956,"TransportMode":{"Type":"F","Code":"FEED"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SubLocationCode":{"Code":"HAIT001"},"LocationCode":{"Code":"DOHAI"},"DisplayName":"Rio Haina, Dom Rep"},"LegSeqNumber":3,"EndPosition":{"SubLocationCode":{"Code":"PCRT001"},"LocationCode":{"Code":"HNPCR"},"DisplayName":"Puerto Cortes, Honduras"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":6.5,"Amount":6.5}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-09-05T11:57:37.4077396Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":20160.0,"AmountinHours":336.0,"AmountInDays":14.0,"Amount":20160.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":4186.0,"SumOfVat":0.0,"SumOfValues":4186.0,"DocValuesData":[{"Unit":"","TariffManr":24217.0,"TargetCurCode":"USD","Rate":3982.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":3982.0},{"Unit":"","TariffManr":15638.0,"TargetCurCode":"USD","Rate":100.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":100.0},{"Unit":"","TariffManr":7835.0,"TargetCurCode":"USD","Rate":104.0,"Per":"C","MinMaxFlag":"N","GroupName":"OTHERADD","Description":"Terminal Handling Charge - Destination","CurrencyCode":"USD","ChargeCode":"THCD","Basis":1.0,"AmountTarget":104.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":4186.0,"SumCost":0.0,"ContributionAmount":4186.0}]}],"Errors":[]},"BookingRouteResult":{"RouteId":4,"AllSalesTariffIds":[24217,15638,7835],"AllPurchaseTariffIds":[]}}]}';
    String jsonResponseString = '{"success":true,"result":[{"Success":false,"Schedules":[{"TotalDuration":"2.16:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"startPoint":null,"startMode":null,"startLocationCode":null,"startLocation":null,"startLoc":null,"startDateNumber":null,"StartDate":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"SAL0095"},"VesselName":"El Coqui","VesselCode":{"Code":"ECO"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Isla Grande Term, San Juan, PR","ToLocation":{"Code":"PRSJU"},"To":{"Berths":[{"Departure":{"Utc":"2020-12-01T09:00:00","LocalPortTime":"2020-12-01T05:00:00"},"Arrival":{"Utc":"2020-11-30T09:00:00","LocalPortTime":"2020-11-30T05:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":1067,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"JPA Term, Jacksonville, FL","SubLocationCode":{"Code":"JAXT000"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"Arrival":{"Utc":"2020-11-26T19:00:00","LocalPortTime":"2020-11-26T14:00:00"}}]},"FromSubDisplayName":"JPA Term, Jacksonville, FL","FromLocation":{"Code":"USJAX"},"departureToDisplay":null,"DepartureTime":{"Utc":"2020-11-27T23:00:00","LocalPortTime":"2020-11-27T18:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-11-30T14:00:00","LocalPortTime":"2020-11-30T10:00:00"}}],"POL":null,"POD":null,"originMove":null,"numberOfStops":null,"numberOfSegments":null,"EndSailingDate":{"Utc":"2020-11-30T14:00:00","LocalPortTime":"2020-11-30T10:00:00"},"endPoint":null,"endMode":null,"endLocationCode":null,"endLocation":null,"endLoc":null,"EndDate":{"Utc":"2020-11-30T14:00:00","LocalPortTime":"2020-11-30T10:00:00"},"destMove":null,"betweenPortsOnly":null,"betweenLocations":null,"addedHours":null},{"TotalDuration":"2.16:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"startPoint":null,"startMode":null,"startLocationCode":null,"startLocation":null,"startLoc":null,"startDateNumber":null,"StartDate":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"SAL0096"},"VesselName":"Taino","VesselCode":{"Code":"TAO"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Isla Grande Term, San Juan, PR","ToLocation":{"Code":"PRSJU"},"To":{"Berths":[{"Departure":{"Utc":"2020-12-05T09:00:00","LocalPortTime":"2020-12-05T05:00:00"},"Arrival":{"Utc":"2020-12-04T09:00:00","LocalPortTime":"2020-12-04T05:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":1067,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"JPA Term, Jacksonville, FL","SubLocationCode":{"Code":"JAXT000"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":3600.00,"AmountinHours":60.00,"AmountInDays":2.5,"Amount":2.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"Arrival":{"Utc":"2020-11-30T19:00:00","LocalPortTime":"2020-11-30T14:00:00"}}]},"FromSubDisplayName":"JPA Term, Jacksonville, FL","FromLocation":{"Code":"USJAX"},"departureToDisplay":null,"DepartureTime":{"Utc":"2020-12-01T23:00:00","LocalPortTime":"2020-12-01T18:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-12-04T14:00:00","LocalPortTime":"2020-12-04T10:00:00"}}],"POL":null,"POD":null,"originMove":null,"numberOfStops":null,"numberOfSegments":null,"EndSailingDate":{"Utc":"2020-12-04T14:00:00","LocalPortTime":"2020-12-04T10:00:00"},"endPoint":null,"endMode":null,"endLocationCode":null,"endLocation":null,"endLoc":null,"EndDate":{"Utc":"2020-12-04T14:00:00","LocalPortTime":"2020-12-04T10:00:00"},"destMove":null,"betweenPortsOnly":null,"betweenLocations":null,"addedHours":null}],"RouteId":1,"Legs":[{"TransshipmentMatrixDetailId":1067,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"JPA Term, Jacksonville, FL","SubLocationCode":{"Code":"JAXT000"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":2.5,"Amount":2.5}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-11-27T00:00:00Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":3840.0,"AmountinHours":64.0,"AmountInDays":2.6666666666666666666666666667,"Amount":3840.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":2770.0,"SumOfVat":0.0,"SumOfValues":2770.0,"DocValuesData":[{"Unit":"","TariffManr":10940.0,"TargetCurCode":"USD","Rate":2290.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":2290.0},{"Unit":"","TariffManr":15141.0,"TargetCurCode":"USD","Rate":260.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":260.0},{"Unit":"","TariffManr":4882.0,"TargetCurCode":"USD","Rate":26.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Charge - Destination","CurrencyCode":"USD","ChargeCode":"PTCD","Basis":1.0,"AmountTarget":26.0},{"Unit":"","TariffManr":8121.0,"TargetCurCode":"USD","Rate":120.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Security - Destination","CurrencyCode":"USD","ChargeCode":"SECD","Basis":1.0,"AmountTarget":120.0},{"Unit":"","TariffManr":4931.0,"TargetCurCode":"USD","Rate":74.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Scanning Fee - Destination","CurrencyCode":"USD","ChargeCode":"PSFD","Basis":1.0,"AmountTarget":74.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[{"ValuesGroup":[{"TotalSum":1096.64,"SumOfVat":0.0,"SumOfValues":1096.64,"DocValuesData":[{"Unit":"","TariffManr":7746.0,"TargetCurCode":"USD","Rate":124.93,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Admin","CurrencyCode":"USD","ChargeCode":"SCAD","Basis":1.0,"AmountTarget":124.93},{"Unit":"","TariffManr":7755.0,"TargetCurCode":"USD","Rate":257.68,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Purchase Services","CurrencyCode":"USD","ChargeCode":"SCPC","Basis":1.0,"AmountTarget":257.68},{"Unit":"","TariffManr":7737.0,"TargetCurCode":"USD","Rate":20.6,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Discharge","CurrencyCode":"USD","ChargeCode":"SCPD","Basis":1.0,"AmountTarget":20.6},{"Unit":"","TariffManr":7728.0,"TargetCurCode":"USD","Rate":21.54,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Load","CurrencyCode":"USD","ChargeCode":"SCPL","Basis":1.0,"AmountTarget":21.54},{"Unit":"","TariffManr":7710.0,"TargetCurCode":"USD","Rate":436.12,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Charter","CurrencyCode":"USD","ChargeCode":"SCVC","Basis":1.0,"AmountTarget":436.12},{"Unit":"","TariffManr":7719.0,"TargetCurCode":"USD","Rate":235.77,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Fuel","CurrencyCode":"USD","ChargeCode":"SCVF","Basis":1.0,"AmountTarget":235.77}]}],"TargetCurrency":"USD"}],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":2770.0,"SumCost":1096.64,"ContributionAmount":1673.36}]}],"Errors":[]},"BookingRouteResult":{"RouteId":null,"AllSalesTariffIds":[],"AllPurchaseTariffIds":[]}},{"Success":false,"Schedules":[{"TotalDuration":"4.15:00:00","totalDays":null,"StartSailingDate":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"startPoint":null,"startMode":null,"startLocationCode":null,"startLocation":null,"startLoc":null,"startDateNumber":null,"StartDate":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"sequenceNumber":null,"Segments":[{"VoyageNumber":{"NumberX":"SAL0946"},"VesselName":"El Conquistador","VesselCode":{"Code":"EC"},"TransportModeCode":{"Type":"O","Code":"OWN"},"ToSubDisplayName":"Isla Grande Term, San Juan, PR","ToLocation":{"Code":"PRSJU"},"To":{"Berths":[{"Departure":{"Utc":"2020-12-11T02:00:00","LocalPortTime":"2020-12-10T22:00:00"},"Arrival":{"Utc":"2020-12-10T12:00:00","LocalPortTime":"2020-12-10T08:00:00"}}]},"StopSequence":null,"Leg":{"TransshipmentMatrixDetailId":1065,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"Talleyrand Term, Jacksonville","SubLocationCode":{"Code":"JAXT001"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":6480.00,"AmountinHours":108.00,"AmountInDays":4.5,"Amount":4.5}},"IsTBN":false,"IsOcean":true,"FromX":{"Berths":[{"Departure":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"Arrival":{"Utc":"2020-12-05T14:00:00","LocalPortTime":"2020-12-05T09:00:00"}}]},"FromSubDisplayName":"Talleyrand Term, Jacksonville","FromLocation":{"Code":"USJAX"},"departureToDisplay":null,"DepartureTime":{"Utc":"2020-12-06T03:00:00","LocalPortTime":"2020-12-05T22:00:00"},"arrivalToDisplay":null,"ArrivalTime":{"Utc":"2020-12-10T17:00:00","LocalPortTime":"2020-12-10T13:00:00"}}],"POL":null,"POD":null,"originMove":null,"numberOfStops":null,"numberOfSegments":null,"EndSailingDate":{"Utc":"2020-12-10T17:00:00","LocalPortTime":"2020-12-10T13:00:00"},"endPoint":null,"endMode":null,"endLocationCode":null,"endLocation":null,"endLoc":null,"EndDate":{"Utc":"2020-12-10T17:00:00","LocalPortTime":"2020-12-10T13:00:00"},"destMove":null,"betweenPortsOnly":null,"betweenLocations":null,"addedHours":null}],"RouteId":2,"Legs":[{"TransshipmentMatrixDetailId":1065,"TransportMode":{"Type":"O","Code":"OWN"},"StayTimePol":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StayTimePod":{"TimeUnit":"d","AmountInDays":0.208333333333333,"Amount":0.208333333333333},"StartPosition":{"SublocationCodeDisplayName":"Talleyrand Term, Jacksonville","SubLocationCode":{"Code":"JAXT001"},"LocationCode":{"Code":"USJAX"},"DisplayName":"Jacksonville, FL"},"LegSeqNumber":1,"EndPosition":{"SublocationCodeDisplayName":"Isla Grande Term, San Juan, PR","SubLocationCode":{"Code":"SJUT001"},"LocationCode":{"Code":"PRSJU"},"DisplayName":"San Juan, Puerto Rico"},"Duration":{"TimeUnit":"d","AmountinMinuteRounded":null,"AmountinHours":null,"AmountInDays":4.5,"Amount":4.5}}],"IsSelectedRoute":false,"ExpectedTimeOfDeparture":"2020-11-27T00:00:00Z","Duration":{"TimeUnit":"m","AmountinMinuteRounded":6660.0,"AmountinHours":111.0,"AmountInDays":4.625,"Amount":6660.0},"CalculatedContributionResult":{"Success":true,"ItemValues":[{"ValuesDataRevenue":[{"ValuesGroup":[{"TotalSum":2770.0,"SumOfVat":0.0,"SumOfValues":2770.0,"DocValuesData":[{"Unit":"","TariffManr":10940.0,"TargetCurCode":"USD","Rate":2290.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Ocean Freight","CurrencyCode":"USD","ChargeCode":"NTFR","Basis":1.0,"AmountTarget":2290.0},{"Unit":"","TariffManr":15141.0,"TargetCurCode":"USD","Rate":260.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Vessel Fuel Surcharge","CurrencyCode":"USD","ChargeCode":"VFS","Basis":1.0,"AmountTarget":260.0},{"Unit":"","TariffManr":4882.0,"TargetCurCode":"USD","Rate":26.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Charge - Destination","CurrencyCode":"USD","ChargeCode":"PTCD","Basis":1.0,"AmountTarget":26.0},{"Unit":"","TariffManr":8121.0,"TargetCurCode":"USD","Rate":120.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Security - Destination","CurrencyCode":"USD","ChargeCode":"SECD","Basis":1.0,"AmountTarget":120.0},{"Unit":"","TariffManr":4931.0,"TargetCurCode":"USD","Rate":74.0,"Per":"C","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OTHERADD","Description":"Port Scanning Fee - Destination","CurrencyCode":"USD","ChargeCode":"PSFD","Basis":1.0,"AmountTarget":74.0}]}],"TargetCurrency":"USD"}],"ValuesDataCost":[{"ValuesGroup":[{"TotalSum":1096.64,"SumOfVat":0.0,"SumOfValues":1096.64,"DocValuesData":[{"Unit":"","TariffManr":7746.0,"TargetCurCode":"USD","Rate":124.93,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Admin","CurrencyCode":"USD","ChargeCode":"SCAD","Basis":1.0,"AmountTarget":124.93},{"Unit":"","TariffManr":7755.0,"TargetCurCode":"USD","Rate":257.68,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Purchase Services","CurrencyCode":"USD","ChargeCode":"SCPC","Basis":1.0,"AmountTarget":257.68},{"Unit":"","TariffManr":7737.0,"TargetCurCode":"USD","Rate":20.6,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Discharge","CurrencyCode":"USD","ChargeCode":"SCPD","Basis":1.0,"AmountTarget":20.6},{"Unit":"","TariffManr":7728.0,"TargetCurCode":"USD","Rate":21.54,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Port of Load","CurrencyCode":"USD","ChargeCode":"SCPL","Basis":1.0,"AmountTarget":21.54},{"Unit":"","TariffManr":7710.0,"TargetCurCode":"USD","Rate":436.12,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Charter","CurrencyCode":"USD","ChargeCode":"SCVC","Basis":1.0,"AmountTarget":436.12},{"Unit":"","TariffManr":7719.0,"TargetCurCode":"USD","Rate":235.77,"Per":"P","MinMaxFlag":"N","ItemNumber":1,"GroupName":"OCEANADD","Description":"Standard Cost - Vessel Fuel","CurrencyCode":"USD","ChargeCode":"SCVF","Basis":1.0,"AmountTarget":235.77}]}],"TargetCurrency":"USD"}],"ItemNumber":1,"ContributionData":[{"TargetCurrency":"USD","SumRevenue":2770.0,"SumCost":1096.64,"ContributionAmount":1673.36}]}],"Errors":[]},"BookingRouteResult":{"RouteId":null,"AllSalesTariffIds":[],"AllPurchaseTariffIds":[]}}]}';
    Test.startTest();
    Boolean status = CC_FindARouteController.sendEmail(
      jsonResponseString,
      'manaswini.datla@nagarro.com'
    );
    Test.stopTest();
    System.assertEquals(false, Status, 'Email failed');
  }

  @isTest
  static void TestsendEmail() {
    String jsonResponseString = '[{ "TotalDuration": "3.11:30:00", "totalDays": null, "StartSailingDate": { "Utc": "2020-09-08T03:00:00" }, "startLocationCode": null, "startLocation": null, "StartDate": { "Utc": "2020-09-08T03:00:00" }, "sequenceNumber": null, "Segments": [ { "VoyageNumber": { "NumberX": "NZV0108" }, "VesselName": "Paradero", "VesselCode": { "Code": "PAR" }, "TransportModeCode": { "Type": "O", "Code": "OWN" }, "ToSubDisplayName": "Puerto Cortes Term, Honduras", "ToLocation": { "Code": "HNPCR" }, "To": { "Berths": [ { "Departure": { "Utc": "2020-09-12T00:00:00" }, "Arrival": { "Utc": "2020-09-11T11:30:00" } } ] }, "StopSequence": null, "Leg": { "TransshipmentMatrixDetailId": 922, "TransportMode": { "Type": "O", "Code": "OWN" }, "StayTimePol": { "TimeUnit": "d", "AmountInDays": 0.208333333333333, "Amount": 0.208333333333333 }, "StayTimePod": { "TimeUnit": "d", "AmountInDays": 0.208333333333333, "Amount": 0.208333333333333 }, "StartPosition": { "SubLocationCode": { "Code": "PEFT001" }, "LocationCode": { "Code": "USPEF" }, "DisplayName": "Port Everglades, FL" }, "LegSeqNumber": 1, "EndPosition": { "SubLocationCode": { "Code": "PCRT001" }, "LocationCode": { "Code": "HNPCR" }, "DisplayName": "Puerto Cortes, Honduras" }, "Duration": { "TimeUnit": "d", "AmountinMinuteRounded": 3600, "AmountinHours": 60, "AmountInDays": 2.5, "Amount": 2.5 } }, "IsTBN": false, "IsOcean": false, "FromX": { "Berths": [ { "Departure": { "Utc": "2020-09-08T03:00:00" }, "Arrival": { "Utc": "2020-09-07T11:00:00" } } ] }, "FromSubDisplayName": "Port Everglades Term, FL", "FromLocation": { "Code": "USPEF" }, "DepartureTime": { "Utc": "2020-09-08T03:00:00" }, "arrivalToDisplay": null, "ArrivalTime": { "Utc": "2020-09-11T16:30:00" } },{ "VoyageNumber": { "NumberX": "NZV0108" }, "VesselName": "Paradero", "VesselCode": { "Code": "PAR" }, "TransportModeCode": { "Type": "O", "Code": "OWN" }, "ToSubDisplayName": "Puerto Cortes Term, Honduras", "ToLocation": { "Code": "HNPCR" }, "To": { "Berths": [ { "Departure": { "Utc": "2020-09-12T00:00:00" }, "Arrival": { "Utc": "2020-09-11T11:30:00" } } ] }, "StopSequence": null, "Leg": { "TransshipmentMatrixDetailId": 922, "TransportMode": { "Type": "O", "Code": "OWN" }, "StayTimePol": { "TimeUnit": "d", "AmountInDays": 0.208333333333333, "Amount": 0.208333333333333 }, "StayTimePod": { "TimeUnit": "d", "AmountInDays": 0.208333333333333, "Amount": 0.208333333333333 }, "StartPosition": { "SubLocationCode": { "Code": "PEFT001" }, "LocationCode": { "Code": "USPEF" }, "DisplayName": "Port Everglades, FL" }, "LegSeqNumber": 1, "EndPosition": { "SubLocationCode": { "Code": "PCRT001" }, "LocationCode": { "Code": "HNPCR" }, "DisplayName": "Puerto Cortes, Honduras" }, "Duration": { "TimeUnit": "d", "AmountinMinuteRounded": 3600, "AmountinHours": 60, "AmountInDays": 2.5, "Amount": 2.5 } }, "IsTBN": false, "IsOcean": true, "FromX": { "Berths": [ { "Departure": { "Utc": "2020-09-08T03:00:00" }, "Arrival": { "Utc": "2020-09-07T11:00:00" } } ] }, "FromSubDisplayName": null, "FromLocation": { "Code": "USPEF" }, "DepartureTime": { "Utc": "2020-09-08T03:00:00" }, "arrivalToDisplay": null, "ArrivalTime": { "Utc": "2020-09-11T16:30:00" } },{ "VoyageNumber": { "NumberX": "NZV0108" }, "VesselName": "Paradero", "VesselCode": { "Code": "PAR" }, "TransportModeCode": { "Type": "O", "Code": "OWN" }, "ToSubDisplayName": "Puerto Cortes Term, Honduras", "ToLocation": { "Code": "HNPCR" }, "To": { "Berths": [ { "Departure": { "Utc": "2020-09-12T00:00:00" }, "Arrival": { "Utc": "2020-09-11T11:30:00" } } ] }, "StopSequence": null, "Leg": { "TransshipmentMatrixDetailId": 922, "TransportMode": { "Type": "O", "Code": "OWN" }, "StayTimePol": { "TimeUnit": "d", "AmountInDays": 0.208333333333333, "Amount": 0.208333333333333 }, "StayTimePod": { "TimeUnit": "d", "AmountInDays": 0.208333333333333, "Amount": 0.208333333333333 }, "StartPosition": { "SubLocationCode": { "Code": "PEFT001" }, "LocationCode": { "Code": "USPEF" }, "DisplayName": "Port Everglades, FL" }, "LegSeqNumber": 1, "EndPosition": { "SubLocationCode": { "Code": "PCRT001" }, "LocationCode": { "Code": "HNPCR" }, "DisplayName": "Puerto Cortes, Honduras" }, "Duration": { "TimeUnit": "d", "AmountinMinuteRounded": 3600, "AmountinHours": 60, "AmountInDays": 2.5, "Amount": 2.5 } }, "IsTBN": false, "IsOcean": false, "FromX": { "Berths": [ { "Departure": { "Utc": "2020-09-08T03:00:00" }, "Arrival": { "Utc": "2020-09-07T11:00:00" } } ] }, "FromSubDisplayName": "Port Everglades Term, FL", "FromLocation": { "Code": "USPEF" }, "DepartureTime": { "Utc": "2020-09-08T03:00:00" }, "arrivalToDisplay": null, "ArrivalTime": { "Utc": "2020-09-11T16:30:00" } } ], "numberOfStops": 2, "EndSailingDate": { "Utc": "2020-09-11T16:30:00" }, "endLocationCode": null, "endLocation": null, "EndDate": { "Utc": "2020-09-11T16:30:00" }, "addedHours": null }]';
    String jsonEmailaddress = '[{"emailValue":"manaswini.datla@nagarro.com"}]';
    Test.startTest();
    Boolean status = CC_FindARouteController.sendEmail(
      jsonResponseString,
      jsonEmailaddress
    );
    Test.stopTest();
    System.assertEquals(false, Status, 'Email Sent');
  }

  @isTest
  static void TestcreateRouteRecord() {
    Id routeid;
    Test.startTest();
    routeid = CC_FindARouteController.createRouteRecord('xyz', 'abcd');
    Test.stopTest();
    System.assert(routeid != null);
  }

  @isTest
  static void TestgetIsOpenCommunity() {
    Boolean res;
    Test.startTest();
    res = CC_FindARouteController.getIsOpenCommunity();
    Test.stopTest();
    System.assertEquals(false, res);
  }
}
